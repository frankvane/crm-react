# 更新日志

## [0.2.1] - 2025-05-05

### 路由与目录结构重构

- 登录页路由由 `/user/login` 统一调整为 `/login`，所有相关跳转、重定向、权限守卫、request 拦截器等代码已同步更新。
- 登录页目录由 `src/pages/user/Login` 移动为 `src/pages/login`，并删除空的 `user` 目录，import 路径已全部适配。
- 规范了全局 loading 和错误边界组件的目录结构，提升项目可维护性。

## [0.2.0] - 2025-05-04

### 新增

- TabBar 标签页功能，支持多标签浏览、关闭、切换、批量管理
- keepalive-for-react 页面缓存，提升页面切换体验
- 分类管理功能增强，支持分类类型与分类的增删改查
- 资源操作管理功能，支持资源按钮级权限配置
- 按钮权限控制，应用于分类、资源、角色和用户管理页面
- 动态路由递归与重定向，支持三段式动态路由生成
- 支持 vite-plugin-cdn-import/CDN 加载部分依赖，优化生产环境构建体积

### 优化

- TabBar 与路由状态完全同步，切换/关闭标签页自动跳转
- 仪表盘标签页固定且不可关闭，保证主入口稳定
- 分类和分类类型组件响应结构优化，移除冗余包装，统一数据访问
- 资源管理页面优化，支持树形结构展示和图标选择
- 角色分配、资源分配、按钮权限分配等交互体验优化
- 响应拦截器和 API 返回类型统一，前后端字段命名规范化
- 登录、退出登录、路由跳转等流程体验提升
- 代码格式、导入顺序、组件结构和状态管理优化

### 修复

- 修复 keepalive 页面缓存失效，切换后表单/输入内容不丢失
- 修复 TabBar 关闭逻辑异常，保证关闭后自动切换到合适的标签
- 修复动态菜单 key 与路由 path 对齐，保证菜单正常显示和跳转
- 修复页面刷新跳转问题，优化 AuthGuard 认证逻辑
- 修复部分 API 响应与前端类型不一致问题
- 修复类型推断、类型定义、类型警告等 TypeScript 相关问题
- 修复登录状态和侧边栏样式
- 修复分类树、分类列表、资源表单等数据类型和显示问题
- 修复登录失败时的错误处理

### 重构

- 路由结构统一迁移到 router 目录，支持静态/动态/三段式路由生成
- 分类表单父级分类与类型解耦，减少无关请求
- 优化表单逻辑，移除冗余代码
- 资源管理、角色管理、用户管理等页面结构和状态管理优化

### 文档

- 完善命名规范、模型关联、操作流程、RBAC 权限、API 等文档
- 更新日志日期修正，历史版本请见旧日志

## [0.1.4] - 2024-05-02

### 优化

- 优化标签页（TabBar）功能
  - 修复仪表盘标签页始终存在且不可关闭
  - 优化标签页关闭逻辑，关闭当前标签页后自动切换到上一个标签页
  - 确保标签页与路由同步，提升用户体验
  - 修复标签页管理功能（关闭其他、关闭左侧、关闭右侧、关闭全部）

## [0.1.3] - 2024-05-02

### 优化

- 优化分类和分类类型组件的响应结构
  - 移除 `IResponse` 包装器
  - 更新组件以适应新的响应结构
  - 修复分类和分类类型管理的数据获取和显示

## [0.1.2] - 2024-05-01

### 优化

- 优化响应拦截器和 API 返回类型
  - 移除 `IResponse` 包装器
  - 更新角色和资源管理组件以适应新的响应结构
  - 修复资源列表获取功能，使用真实 API 数据

## [0.1.1] - 2024-05-01

### 修复

- 修复 TypeScript 项目配置问题
  - 添加 `"composite": true` 和 `"emitDeclarationOnly": true` 到 `tsconfig.node.json`
  - 解决项目引用配置错误

## [0.1.0] - 2024-05-01

### 新增

- 添加用户管理功能
  - 实现用户列表展示
  - 实现用户创建和编辑
  - 实现用户状态切换
  - 支持多角色分配

### 优化

- 优化响应处理
  - 统一错误处理
  - 简化数据访问
  - 完善类型定义

### Git 提交记录获取

```bash
git log --pretty=format:"%h - %an, %ad : %s" > commit_messages.txt
```

```bash
npx @agentdeskai/browser-tools-server@1.2.0
```
