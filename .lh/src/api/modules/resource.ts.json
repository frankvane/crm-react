{
    "sourceFile": "src/api/modules/resource.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 10,
            "patches": [
                {
                    "date": 1746087876214,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1746088927466,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,14 +17,18 @@\n   return request.get(\"/resources\", { params });\r\n };\r\n \r\n // 获取资源树\r\n-export const getResourceTree = async (): Promise<IResponse<IResourceTreeResponse>> => {\r\n+export const getResourceTree = async (): Promise<\r\n+  IResponse<IResourceTreeResponse>\r\n+> => {\r\n   return request.get(\"/resources/tree\");\r\n };\r\n \r\n // 获取单个资源\r\n-export const getResource = async (id: number): Promise<IResponse<IResource>> => {\r\n+export const getResource = async (\r\n+  id: number\r\n+): Promise<IResponse<IResource>> => {\r\n   return request.get(`/resources/${id}`);\r\n };\r\n \r\n // 创建资源\r\n@@ -51,5 +55,5 @@\n export const toggleResourceStatus = async (\r\n   id: number\r\n ): Promise<IResponse<IResource>> => {\r\n   return request.patch(`/resources/${id}/toggle-status`);\r\n-}; \n\\ No newline at end of file\n+};\r\n"
                },
                {
                    "date": 1746098769854,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,54 +6,47 @@\n   IResourceTreeResponse,\r\n   IUpdateResourceParams,\r\n } from \"@/types/api/resource\";\r\n \r\n-import type { IResponse } from \"@/types/api/common\";\r\n import request from \"@/utils/request\";\r\n \r\n // 获取资源列表\r\n export const getResources = async (\r\n   params: IResourceQueryParams\r\n-): Promise<IResponse<IResourceListResponse>> => {\r\n+): Promise<IResourceListResponse> => {\r\n   return request.get(\"/resources\", { params });\r\n };\r\n \r\n // 获取资源树\r\n-export const getResourceTree = async (): Promise<\r\n-  IResponse<IResourceTreeResponse>\r\n-> => {\r\n+export const getResourceTree = async (): Promise<IResourceTreeResponse> => {\r\n   return request.get(\"/resources/tree\");\r\n };\r\n \r\n // 获取单个资源\r\n-export const getResource = async (\r\n-  id: number\r\n-): Promise<IResponse<IResource>> => {\r\n+export const getResource = async (id: number): Promise<IResource> => {\r\n   return request.get(`/resources/${id}`);\r\n };\r\n \r\n // 创建资源\r\n export const createResource = async (\r\n   data: ICreateResourceParams\r\n-): Promise<IResponse<IResource>> => {\r\n+): Promise<IResource> => {\r\n   return request.post(\"/resources\", data);\r\n };\r\n \r\n // 更新资源\r\n export const updateResource = async (\r\n   id: number,\r\n   data: IUpdateResourceParams\r\n-): Promise<IResponse<IResource>> => {\r\n+): Promise<IResource> => {\r\n   return request.put(`/resources/${id}`, data);\r\n };\r\n \r\n // 删除资源\r\n-export const deleteResource = async (id: number): Promise<IResponse<null>> => {\r\n+export const deleteResource = async (id: number): Promise<null> => {\r\n   return request.delete(`/resources/${id}`);\r\n };\r\n \r\n // 切换资源状态\r\n-export const toggleResourceStatus = async (\r\n-  id: number\r\n-): Promise<IResponse<IResource>> => {\r\n+export const toggleResourceStatus = async (id: number): Promise<IResource> => {\r\n   return request.patch(`/resources/${id}/toggle-status`);\r\n };\r\n"
                },
                {
                    "date": 1746149388707,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,9 +17,9 @@\n };\r\n \r\n // 获取资源树\r\n export const getResourceTree = async (): Promise<IResourceTreeResponse> => {\r\n-  return request.get(\"/resources/tree\");\r\n+  return request.get(\"/resources\");\r\n };\r\n \r\n // 获取单个资源\r\n export const getResource = async (id: number): Promise<IResource> => {\r\n"
                },
                {
                    "date": 1746149447620,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,9 +17,9 @@\n };\r\n \r\n // 获取资源树\r\n export const getResourceTree = async (): Promise<IResourceTreeResponse> => {\r\n-  return request.get(\"/resources\");\r\n+  return request.get(\"/resources/tree\");\r\n };\r\n \r\n // 获取单个资源\r\n export const getResource = async (id: number): Promise<IResource> => {\r\n"
                },
                {
                    "date": 1746149614259,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,9 +17,9 @@\n };\r\n \r\n // 获取资源树\r\n export const getResourceTree = async (): Promise<IResourceTreeResponse> => {\r\n-  return request.get(\"/resources/tree\");\r\n+  return request.get(\"/resources\");\r\n };\r\n \r\n // 获取单个资源\r\n export const getResource = async (id: number): Promise<IResource> => {\r\n"
                },
                {
                    "date": 1746149802183,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,9 +17,9 @@\n };\r\n \r\n // 获取资源树\r\n export const getResourceTree = async (): Promise<IResourceTreeResponse> => {\r\n-  return request.get(\"/resources\");\r\n+  return request.get(\"/resources/tree\");\r\n };\r\n \r\n // 获取单个资源\r\n export const getResource = async (id: number): Promise<IResource> => {\r\n"
                },
                {
                    "date": 1746151192330,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -49,4 +49,33 @@\n // 切换资源状态\r\n export const toggleResourceStatus = async (id: number): Promise<IResource> => {\r\n   return request.patch(`/resources/${id}/toggle-status`);\r\n };\r\n+\r\n+export const getResourceActions = (resourceId: number) => {\r\n+  return request.get<IResourceAction[]>(`/resources/${resourceId}/actions`);\r\n+};\r\n+\r\n+export const createResourceAction = (\r\n+  resourceId: number,\r\n+  data: Partial<IResourceAction>\r\n+) => {\r\n+  return request.post<IResourceAction>(\r\n+    `/resources/${resourceId}/actions`,\r\n+    data\r\n+  );\r\n+};\r\n+\r\n+export const updateResourceAction = (\r\n+  resourceId: number,\r\n+  actionId: number,\r\n+  data: Partial<IResourceAction>\r\n+) => {\r\n+  return request.put<IResourceAction>(\r\n+    `/resources/${resourceId}/actions/${actionId}`,\r\n+    data\r\n+  );\r\n+};\r\n+\r\n+export const deleteResourceAction = (resourceId: number, actionId: number) => {\r\n+  return request.delete(`/resources/${resourceId}/actions/${actionId}`);\r\n+};\r\n"
                },
                {
                    "date": 1746151203037,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,8 @@\n import type {\r\n   ICreateResourceParams,\r\n   IResource,\r\n+  IResourceAction,\r\n   IResourceListResponse,\r\n   IResourceQueryParams,\r\n   IResourceTreeResponse,\r\n   IUpdateResourceParams,\r\n"
                },
                {
                    "date": 1746152030298,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -51,10 +51,11 @@\n export const toggleResourceStatus = async (id: number): Promise<IResource> => {\r\n   return request.patch(`/resources/${id}/toggle-status`);\r\n };\r\n \r\n-export const getResourceActions = (resourceId: number) => {\r\n-  return request.get<IResourceAction[]>(`/resources/${resourceId}/actions`);\r\n+export const getResourceActions = async (resourceId: number): Promise<IResourceAction[]> => {\r\n+  const response = await request.get<IResourceAction[]>(`/resources/${resourceId}/actions`);\r\n+  return response.data;\r\n };\r\n \r\n export const createResourceAction = (\r\n   resourceId: number,\r\n"
                },
                {
                    "date": 1746152043824,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -60,28 +60,33 @@\n   );\r\n   return response.data;\r\n };\r\n \r\n-export const createResourceAction = (\r\n+export const createResourceAction = async (\r\n   resourceId: number,\r\n   data: Partial<IResourceAction>\r\n-) => {\r\n-  return request.post<IResourceAction>(\r\n+): Promise<IResourceAction> => {\r\n+  const response = await request.post<IResourceAction>(\r\n     `/resources/${resourceId}/actions`,\r\n     data\r\n   );\r\n+  return response.data;\r\n };\r\n \r\n-export const updateResourceAction = (\r\n+export const updateResourceAction = async (\r\n   resourceId: number,\r\n   actionId: number,\r\n   data: Partial<IResourceAction>\r\n-) => {\r\n-  return request.put<IResourceAction>(\r\n+): Promise<IResourceAction> => {\r\n+  const response = await request.put<IResourceAction>(\r\n     `/resources/${resourceId}/actions/${actionId}`,\r\n     data\r\n   );\r\n+  return response.data;\r\n };\r\n \r\n-export const deleteResourceAction = (resourceId: number, actionId: number) => {\r\n-  return request.delete(`/resources/${resourceId}/actions/${actionId}`);\r\n+export const deleteResourceAction = async (\r\n+  resourceId: number,\r\n+  actionId: number\r\n+): Promise<void> => {\r\n+  await request.delete(`/resources/${resourceId}/actions/${actionId}`);\r\n };\r\n"
                }
            ],
            "date": 1746087876214,
            "name": "Commit-0",
            "content": "import type {\r\n  ICreateResourceParams,\r\n  IResource,\r\n  IResourceListResponse,\r\n  IResourceQueryParams,\r\n  IResourceTreeResponse,\r\n  IUpdateResourceParams,\r\n} from \"@/types/api/resource\";\r\n\r\nimport type { IResponse } from \"@/types/api/common\";\r\nimport request from \"@/utils/request\";\r\n\r\n// 获取资源列表\r\nexport const getResources = async (\r\n  params: IResourceQueryParams\r\n): Promise<IResponse<IResourceListResponse>> => {\r\n  return request.get(\"/resources\", { params });\r\n};\r\n\r\n// 获取资源树\r\nexport const getResourceTree = async (): Promise<IResponse<IResourceTreeResponse>> => {\r\n  return request.get(\"/resources/tree\");\r\n};\r\n\r\n// 获取单个资源\r\nexport const getResource = async (id: number): Promise<IResponse<IResource>> => {\r\n  return request.get(`/resources/${id}`);\r\n};\r\n\r\n// 创建资源\r\nexport const createResource = async (\r\n  data: ICreateResourceParams\r\n): Promise<IResponse<IResource>> => {\r\n  return request.post(\"/resources\", data);\r\n};\r\n\r\n// 更新资源\r\nexport const updateResource = async (\r\n  id: number,\r\n  data: IUpdateResourceParams\r\n): Promise<IResponse<IResource>> => {\r\n  return request.put(`/resources/${id}`, data);\r\n};\r\n\r\n// 删除资源\r\nexport const deleteResource = async (id: number): Promise<IResponse<null>> => {\r\n  return request.delete(`/resources/${id}`);\r\n};\r\n\r\n// 切换资源状态\r\nexport const toggleResourceStatus = async (\r\n  id: number\r\n): Promise<IResponse<IResource>> => {\r\n  return request.patch(`/resources/${id}/toggle-status`);\r\n}; "
        }
    ]
}